{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "type": "object",
  "$defs": {
    "dependencyEntries": {
      "type": "object",
      "additionalProperties": {
        "type": "object",
        "oneOf": [
          {
            "properties": {
              "workspace": {
                "type": "boolean",
                "enum": [true]
              }
            },
            "required": ["workspace"],
            "additionalProperties": false
          },
          {
            "properties": {
              "workspace": {
                "type": "boolean",
                "enum": [true]
              },
              "features": {
                "type": "array",
                "items": {
                  "type": "string"
                }
              }
            },
            "required": ["workspace", "features"],
            "additionalProperties": false
          },
          {
            "properties": {
              "path": {
                "type": "string"
              }
            },
            "required": ["path"]
          },
          {
            "properties": {
              "git": {
                "type": "string"
              }
            },
            "required": ["git"]
          }
        ]
      }
    }
  },
  "properties": {
    "dependencies": { "$ref": "#/$defs/dependencyEntries" },
    "dev-dependencies": { "$ref": "#/$defs/dependencyEntries" },
    "build-dependencies": { "$ref": "#/$defs/dependencyEntries" }
  }
}
